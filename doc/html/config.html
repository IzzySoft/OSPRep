<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
	<title>OSPRep Dokumentation: Configuration</title>
    <meta name="Author" content="Andreas Itzchak Rehberg (devel@izzysoft.de)">
    <meta name="Description" content="OSPRep Documentation: Configuration">
    <meta name="Keywords" content="Oracle, Statspack, Report, Documentation">
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15">
    <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
<table align="center" width="98%" border="0">
 <tr><th>Configuration</th></tr>
 <tr><td class="text">
  Since the configuration file is executed as a shell script, we have to stick to
  Shell rules here - i.e., no spaces left or right to the equal sign: the syntax
  is strictly "<code>var=value</code>". Do not ever remove or comment out any
  configuration lines, even if you want to use OSPRep's defaults, since this may
  lead to misbehaviour. The script relies on the settings are made in the config
  file.
 </td></tr>
 <tr><th class="th_sub"><a name="required"></a>Required Settings</th></tr>
 <tr><td class="text">
  The configuration shipped with OSPRep already contains useful default values
  for most settings.  However, there are some values the developer cannot know
  or set up to auto-run on every system, such as usernames, passwords, the
  database name or the target directory to store the reports in. So these are
  the minimum of settings you have to adjust in order for OSPRep to run properly:
 </td></tr>
 <tr><td class="text">
  <table align="center" width="95%">
   <tr><th class="th_sub2">Variable</th><th class="th_sub2">Explanation</th></tr>
   <tr><td class="td_name"><code>ORACLE_SID</code></td>
       <td class="text">As already known from the Oracle setup, the <code>ORACLE_SID</code>
           is the Service IDentifier for a given database instance. In the
           context of OSPRep, the SID is additionally used to generate the
           file names for the database report files, which will be called
           <CODE>&lt;ORACLE_SID&gt;.html</CODE> (for the report generated by the
           <code>sreport.sh</code> script), <code>&lt;ORACLE_SID&gt;_fts.html</code>
           (for the separate FTS reports generated by <code>fts_plans.sh</code>)
           and <code>&lt;ORACLE_SID&gt;_chart.html</code> (for the chart pages
           created by the <code>charts.sh</code> script). If you did not specify a
           separate <i>connection string</i> (see the command line parameter "-c"
           in the <a href="usage.html#cmdline">Usage</a> section of this
           documentation), this value is also used to connect to the database.</td></tr>
   <tr><td class="td_name"><code>user</code></td>
       <td class="text" rowspan="2">The user and password to connect to the
           database. Although you may override these settings using the command
           line parameters "-u" and "-p", this is not recommended for the password
           on manual calls, since the entire command line is kept in the systems
           process list and can be made visible by any user e.g. with the
           <code>ps</code> command, and thus the password can be sniffed. So
           better specify it inside the script and protect the file against
           unauthorized access, e.g. using the shell command
           "<code>chmod 0700 &lt;config_file&gt;</code>". If you need different
           user/password combinations, the recommendation is to use different
           config files, which you then can specify on the command line using
           the "-c" switch.</td></tr>
   <tr><td class="td_name"><code>password</code></td></tr>
   <tr><td class="td_name"><code>TMPDIR</code></td>
       <td class="text">Directory to place temporary files into (these files will
           be removed at the end of the run of the script). The default setting,
           <code>/tmp</code>, should be fine for most systems. Just ensure that
           the <code>/tmp</code> directory is available on your system ;-)</td></tr>
   <tr><td class="td_name"><code>REPDIR</code></td>
       <td class="text">The directory where the reports (HTML) should be written
           to. Below this directory you created the "help" directory when
           following the installation instructions supplied with this documentation.</td></tr>
   <tr><td class="td_name"><code>CSS</code></td>
       <td class="text">Name of the StyleSheet the HTML reports should use, with
           relative path (if any). An example StyleSheet file, containing all
           classes needed/used by OraRep, is provided in the <code>reports/</code>
           directory of the archive.</td></tr>
  </table>
 </td></tr>
 <tr><th class="th_sub"><a name="opt"></a>Optional Settings</th></tr>
 <tr><td class="text">
  Once you are familiar with the reports generated by OSPRep, you may want to
  fine-tune it a bit to better suit your requirements. For this issue, the
  config file provides some more settings which are to be explained here:
 </td></tr>
 <tr><td class="text">
  <table align="center" width="95%">
   <tr><th class="th_sub2">Variable</th><th class="th_sub2">Explanation</th></tr>
   <tr><td class="td_name" COLSPAN="2"><div align="center">SQL</div></td></tr>
   <tr><td class="td_name"><code>TOP_N_SQL</code></td>
       <td class="text" rowspan="2">How many items to list up in the "Top N"
           blocks of the report for Wait objects and SQL statements</td></tr>
   <tr><td class="td_name"><code>TOP_N_WAITS</code></td></tr>
   <tr><td class="td_name"><code>EXC_PERF_FOR</code></td>
       <td class="text">This can be used to exclude objects of given users from
           some statistics. For example, it makes no sense to print long
           execution plans for statements generated by the system and just using
           system objects, since we will never go to tune these. In most cases,
           the preset of "<code>SYS SYSTEM</code>" will be fine. If you need to
           change this, beware its case sensitivity (must be all uppercase for
           current Oracle releases)</td></tr>
   <tr><td class="td_name"><code>START_ID</code></td>
       <td class="text" rowspan="2">These two values specify the snapshot
           interval to consider. Setting the value of zero for both instructs
           OSPRep to automatically evaluate the interval - it will then find the
           latest snapshot available and consider all snapshots since the last
           instance startup for the report. Leaving the <code>START_ID</code> on
           zero but specifying a different <code>END_ID</code> will take the
           largest possible interval up to the given <code>END_ID</code>. Setting
           both values to a value &lt;&gt; 0 will take the specified interval.
           Be careful not to set <code>START_ID</code> to a non-zero value but
           leaving <code>END_ID</code> on zero - this would mean just to use the
           same Snapshot for both, start and end.<br>These two values can be
           overridden on the <a href="usage.html#cmdline">command line</a>, using
           the parameters <code>-b</code> (for the "Begin" snapshot) and
           <code>-e</code> (for the "End" snapshot).</td></tr>
   <tr><td class="td_name"><code>END_ID</code></td></tr>
   <tr><td class="td_name"><code>MAX_REP_INTERVAL</code></td>
       <td class="text" rowspan="2">These two values as well specify the snapshot
           interval to consider, but in a different manner. First, the
           <code>MAX_*_INTERVAL</code> only applies if <code>START_ID=0</code>.
           In this case OSPRep considers the snapshot interval from the
           <code>END_ID</code> value and subtracts the amount of days specified
           by <code>MAX_*_INTERVAL</code> to find the starting point. Configure
           this feature with the <code>*_REP_*</code> keyword for the reports,
           and with the <code>*_CHART_*</code> keyword for the charts. Setting
           the value of zero instructs OSPRep to evaluate the snapshot interval
           as described above using <code>START_ID</code> and <code>END_ID</code>
           settings.</td></tr>
   <tr><td class="td_name"><code>MAX_CHART_INTERVAL</code></td></tr>
   <tr><td class="td_name" COLSPAN="2"><div align="center">Features</div></td></tr>
   <tr><td class="td_name"><code>MK_INSTEFF</code></td>
       <td class="text">The "Instance Efficiency Percentages" provide an overview
           of some important ratios, such as "Buffer HitRatio", "Library HiRatio"
           and "In-Memory Sort" and should normally be included with the report.</td></tr>
   <tr><td class="td_name"><code>MK_TOPWAITS</code></td>
       <td class="text">Whether to display the "Top N Wait Events" block.</td></tr>
   <tr><td class="td_name"><code>MK_ALLWAITS</code></td>
       <td class="text" ROWSPAN="2">Whether to display the "All Wait Events" and/or
           "Background Waits" segment. In normal cases, you will not need the "All
           Wait Events" and "Background Waits" segments (that's why they are
           turned off by the default configuration), but they may be useful for
           closer investigations.</td></tr>
   <tr><td class="td_name"><code>MK_BGWAITS</code></td></tr>
   <tr><td class="td_name"><code>MK_WAITOBJ</code></td>
       <td class="text">Whether to list up the Top N Wait objects (see
           <code>TOP_N_WAITS</code> above). This is only possible if you installed
           the additional <a href="tech.html#plugins">collector plugin</a> shipped
           with OSPRep - otherwise the setting of <code>MK_WAITOBJ</code> will
           have no visible effect.</td></tr>
   <tr><td class="td_name"><code>MK_TOPSQL</code></td>
       <td class="text">List up the Top N SQL statements at all? If set to
           <code>MK_TOPSQL=1</code>, four blocks will be included: Top N SQL by
           Gets, by Reads, by Executions and by Parse Calls. If
           <code>MK_TOPSQL=0</code>, the setting for <code>MK_EP</code> will have
           no effect at all (since execution plans are always connected to SQL
           statements).</td></tr>
   <tr><td class="td_name"><code>MK_EP</code></td>
       <td class="text">If your snapshots are taken with level 6 or higher, the
           execution plans are captured with each snapshot and can be displayed
           together with the respective SQL statement in the <code>TOP_N_SQL</code>.
           block. With the <code>MK_EP</code> parameter you can suppress these
           execution plans even if they are available (by setting it to
           <code>MK_EP=0</code>). However, if you only collect level 5 data with
           your snapshots (or if you set <code>MK_TOPSQL=0</code>, see above),
           <code>MK_EP=1</code> will have no effect at all.</td></tr>
   <tr><td class="td_name"><code>MK_TSIO</code></td>
       <td class="text" rowspan="2">The "TableSpace IO Summary Statistics" and
           "File IO Summary Statistics" generally list up the same values, as long
           as each TableSpace consists of exactly one datafile. In this case, you
           may want to turn off one of these two stats (which normally will be the
           TSIO, since FIO additionally lists up the file names).<br>
           The only other difference is: TSIO stats are ordered by IOs, while FIO
           stats are ordered by TS and file names.</td></tr>
   <tr><td class="td_name"><code>MK_FIO</code></td></tr>
   <tr><td class="td_name"><code>MK_SEG_LR</code></td>
       <td class="text" rowspan="4">These switches are for the segment statistics
           (Statspack Level 7) introduced with Oracle 9.2 and will have no effect
           for Oracle < 9.2 reports. Valid settings are 0 and 1 to switch the
           selected block on or off in the report: LR = Logical Reads, PR = Physical
           Reads, BUSY = Buffer Busy Waits, LOCK = Row Lock Waits and ITL = ITL
           Waits per segment. These reports are always ordered by waits DESC.</td></tr>
   <tr><td class="td_name"><code>MK_SEG_PR</code></td></tr>
   <tr><td class="td_name"><code>MK_SEG_BUSY</code></td></tr>
   <tr><td class="td_name"><code>MK_SEG_LOCK</code></td></tr>
   <tr><td class="td_name"><code>MK_SEG_ITL</code></td></tr>
   <tr><td class="td_name"><code>MK_INSTACT</code></td>
       <td class="text">The "Instance Activity" segment of the report can be boring
           sometimes, so you may suppress it here and just activate it if you
           really need it ;-)</td></tr>
   <tr><td class="td_name"><code>MK_RECO</code></td>
       <td class="text">The "Instance Recovery Stats" segment gives you information
           on estimated recovery times, blocks etc..</td></tr>
   <tr><td class="td_name"><code>MK_SPSTAT</code></td>
       <td class="text">Whether to include the short common Shared Pool Stats</td></tr>
   <tr><td class="td_name"><code>MK_BUFFP</code></td>
       <td class="text" rowspan="2">The "Buffer Pool Statistics" segment gives
           statistical information for all available pools (e.g. Default, Keep, etc.),
           while the "Buffer Wait Statistics" report on waits for the different
           classes (such as "data block" or "undo header").</td></tr>
   <tr><td class="td_name"><code>MK_BUFFW</code></td></tr>
   <tr><td class="td_name"><code>MK_PGAA</code></td>
       <td class="text" rowspan="2">Whether to include the "PGA Aggregat" and
           "PGA Memory" segments of the report.</td></tr>
   <tr><td class="td_name"><code>MK_PGAM</code></td></tr>
   <tr><td class="td_name"><code>MK_ENQ</code></td>
       <td class="text">The "Enqueue Activity" segment of the report contains
           information on for which queue types have been waits encountered</td></tr>
   <tr><td class="td_name"><code>MK_USS</code></td>
       <td class="text" ROWSPAN="2">Except for special occasions, the "Undo Segment Statistics"
           (<code>MK_USSTAT</code>) will not be needed (especially when using
           automatic undo management). The "Undo Segment Summary" table can also
           be turned off, if not needed, with the <code>MK_USS=0</code> statement.</td></tr>
   <tr><td class="td_name"><code>MK_USSTAT</code></td></td>
   <tr><td class="td_name"><code>MK_RSSTAT</code></td>
       <td class="text" rowspan="2">Whether to create the "RBS Stats" and
           "RBS Storage" segments of the report. These Rollback statistics are
           quite useless if your database uses automatic Undo management.</td></tr>
   <tr><td class="td_name"><code>MK_RSSTOR</code></td></tr>
   <tr><td class="td_name"><code>MK_LACT</code></td>
       <td class="text">"Latch Activity" will only be needed for closer investigation,
           so this option is turned off by the default configuration. When you
           will need this, the hints/online help of OSPRep will indicate it to you.</td></tr>
   <tr><td class="td_name"><code>MK_LMS</code></td>
       <td class="text">The "Latch Miss Sources" report is only needed by Oracle
           staff. The reason for this is quite easy: they are the only possible
           people to understand it, if anybody does. So you may turn it on just for
           fun (to see how it looks like), but for your normal reports you can
           leave it off. Besides: if you already turned the "Latch Activity"
           (<code>MK_LACT</code>) off, the "Latch Miss Sources" will be
           suppressed anyway.</td></tr>
   <tr><td class="td_name"><code>MK_CACHSIZ</code></td>
       <td class="text">As introduction to the Cache Stats below (see
           <code>MK_DC</code> and <code>MK_LC</code>), this switch enables
           a short Cache Size table.</td></tr>
   <tr><td class="td_name"><code>MK_DC</code></td>
       <td class="text" rowspan="2">Whether to create the "Dictionary Cache" and
           "Library Cache" segments of the report, containing statistics and
           ratios on usage of these areas.</td></tr>
   <tr><td class="td_name"><code>MK_LC</code></td></tr>
   <tr><td class="td_name"><code>MK_SGASUM</code></td>
       <td class="text" rowspan="2">This is for the "SGA Memory Summary" and
           "SGA Breakdown Difference" segments. If you set <code>MK_SGASUM=0</code>,
           the setting for <code>MK_SGABREAK</code> will be ignored and handled
           as if it was set to 0 as well.</td></tr>
   <tr><td class="td_name"><code>MK_SGABREAK</code></td></tr>
   <tr><td class="td_name"><code>MK_IORA</code></td>
       <td class="text">Whether the "Initialization Parameters" segment should be
           included with the report. This block lists up all initialization
           parameters as used with the <code>init.ora</code> file, and the changes
           made between the first and the last snapshot (e.g. with the
           <code>ALTER SYSTEM</code> command).</td></tr>
   <tr><td class="td_name" COLSPAN="2"><div align="center">Go4Colors</div></td></tr>
   <tr><td class="td_name"><code>WR_*</code></td>
       <td class="text" rowspan="2">These are the values used for warnings (<code>WR_*</code>)
           and alerts (<code>AR_*</code>) in the <a href="results.html#go4colors">Go4Colors</a>
           mode (see there for details).</td></tr>
   <tr><td class="td_name"><code>AR_*</code></td></tr>
  </table>
 </td></tr>
</table>

</body>
</html>
